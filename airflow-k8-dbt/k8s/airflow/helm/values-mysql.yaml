executor: CeleryExecutor

webserver:
  service:
    type: NodePort   # like your previous --set webserver.service.type=NodePort

postgresql:
  enabled: false     # ðŸ”´ turn off the broken embedded Postgres

data:
  metadataConnection:
    user: airflow
    pass: airflow_pass
    protocol: mysql
    host: airflow-mysql.airflow.svc.cluster.local
    port: 3306
    db: airflow
    sslmode: disable

# ----- DAGS FROM GIT (GITSYNC) -----
dags:
  # don't use a PVC for dags, just GitSync
  persistence:
    enabled: false

  gitSync:
    enabled: true

    # your repo with dags under airflow-k8-dbt/k8s/airflow/dags
    repo: https://github.com/anjulk9012/AngiAssignment.git
    branch: main          # change to "master" if your default branch is master
    rev: HEAD
    depth: 1

    # IMPORTANT: this is the path where your DAG files live inside the repo
    subPath: app/dags

    # how often to sync (seconds)
    wait: 10

    maxFailures: 0        # retry forever
    # sshKeySecret: ""    # only needed for private SSH repos
    # knownHosts: ""      # only needed for SSH hardening